// We want the raw JavaScript version instead of the jQuery version
//   `document.getElementById()` is probably better
var video = document.getElementById("myVideo"); 
var point = 0
let pausePoints = [0,10,11,12,13,15,16,17]; // In seconds

document.onkeydown = checkKey;

function nextPoint() {
    point += 1
    video.currentTime = pausePoints[point];
    document.getElementById("demo").innerHTML = pausePoints[point];
}

function previousPoint() {
    point += -1
    video.currentTime = pausePoints[point];
    document.getElementById("demo").innerHTML = pausePoints[point];
}

function playToNext() {
    document.getElementById("demo").innerHTML = pausePoints[point]
    if(this.currentTime >= pausePoints[point+1]) {
        this.pause();
        point += 1;
        document.getElementById("demo").innerHTML = pausePoints[point];
    }
}

function checkKey(e) {

    e = e || window.event;
    if (e.keyCode == '32') { // Space Bar: Play/Pause
        if (video.paused) {
            video.play();
        } else {
            video.pause();
        }
    }
    else if (e.keyCode == '38') {
        // up arrow
       nextPoint();
    }
    else if (e.keyCode == '40') {
        // down arrow
        previousPoint();
    }
    else if (e.keyCode == '37') {
        // left arrow
        video.pause();
    }
    else if (e.keyCode == '39') { // Right Arrow: Play to next Pause Point
        video.play();
        video.addEventListener("timeupdate", playToNext);
    }
    else if (e.keyCode == '13') { // Enter: Fullscreen
        if (video.requestFullscreen) {
            video.requestFullscreen();
        } else if (video.webkitRequestFullscreen) { 
            /* Safari */
            video.webkitRequestFullscreen();
        } else if (video.msRequestFullscreen) { 
            /* IE11 */
            video.msRequestFullscreen();
        }
    }
}

video::-webkit-media-controls-enclosure { display:none !important; }
.vidBar { z-index: 2147483648; }

video::-webkit-media-controls-enclosure {
  display:none !important;
}

video::-webkit-media-controls {
  display:none !important;
}

.custom-video-controls {
  z-index: 2147483647;
}
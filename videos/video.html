<!DOCTYPE html>
<html>

<body>

<div id="player"></div>

<script>

    // This code loads the IFrame Player API code asynchronously.
    var tag = document.createElement('script');

    tag.src = "https://www.youtube.com/iframe_api";
    var firstScriptTag = document.getElementsByTagName('script')[0];
    firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);

    // This function creates an <iframe> player after the API code downloads.
    var player;

    function onYouTubeIframeAPIReady() {
        player = new YT.Player('player', {
            height: '360',
            width: '640',
            videoId: 'cxp-FCDUkNc',
            playerVars: {
                'controls':0,
                'modestbranding':1,
                'rel':0,
                'showinfo':0,
                'allowfullscreen':1,
            }
        });
    }
    
    // Custom Code Here
    
    let pausePoints = [0,3,6,10,11,12,13,15,16,17]; // In Seconds
    document.onkeydown = keyHandler;
    
    function keyHandler(e) {
        
        e = window.event;
        
                
        console.log(YT.PlayerState.PLAYING);
        console.log(player.playerInfo.playerState);
        console.log(e.key);
        
        // Play/Pause
        if (e.key == ' ') { 
        
            if (player.playerInfo.playerState == YT.PlayerState.PAUSED) {
                player.playVideo();
            } else {
                player.pauseVideo();
            }
        }
        
        // Skip To Next
        
        if (e.key == ' ') { 
        
            if (player.playerInfo.playerState == YT.PlayerState.PLAYING) {
                player.pauseVideo();
            } else {
                player.playVideo();
            }
        }
        
        // Skip To Previous
        
        // Play To Next
        
        if (e.key == 'ArrowRight') {
            
            if (player.getCurrentTime() <= 4000) {
                console.log(player.getCurrentTime());
                var duration = 4 - player.getCurrentTime();
                player.playVideo()
                setInterval("player.pauseVideo();", duration*1000);
                console.log('moving ahead');
            } else {
                player.pauseVideo();
                console.log('pausing');
            }
                
            
        }
        
        // Loop To Next
        
        if (e.key == 'ArrowRight') {
            
            if (player.getCurrentTime() <= 4000) {
                console.log(player.getCurrentTime());
                var duration = 4 - player.getCurrentTime();
                player.playVideo()
                setInterval("player.pauseVideo();", duration*1000);
                console.log('moving ahead');
            } else {
                player.pauseVideo();
                console.log('pausing');
            }
                
            
        }
        
    }

</script>
</body>

</html>